\chapter{Future Work}
In this chapter the future work for the part of GIRAF we have worked will be
summerzied and explained. These range from bugs to redesigns of the Launcher
application, and the component-lib and pictosearch-lib libraries.
All the features and bugs we mention in this chapter have been presented to
SW611 for creation of tasks for next years students on the GIRAF project.

\section{Redesigns}
During the implementation of REST in \textc{component-lib}, see
\autoref{T836_T868_T870}, we discovered that many classes in the library were
either deprecated, unusable or implemented in a bad way. The amount of classes
was too large to effectively trackle in the last sprint, and as such the
\textc{component-lib} should be redesigned with regards to the GUI classes, as
they should be more like the new \textc{GirafPopupDialog} which uses listners
instead of the current implementation which uses interfaces and methods calls.
The classes should also be looked at to figure out how many classes are really
needed, as we have worked with the library the whole semester and we do not
know which of the classes are actually used.

\section{Addtional Features}
During sprint 4, it was also determined that there should be another
approach to logging in, where the user could input an departments-login, which
should give access to all Guardians in that institution. As seen in T889 in
\autoref{S4Invalid}, this task was unfinished, and this feature should be
finalized when departments are implemented on the server and REST level. The
idea is that the departments should be able to log in, and then a profile
selector should appear where every guardian from that department should be able
to be choosen. When a guradian is chosen, the launcher should log in as that
guardian.\nl

It could also be a good idea to reimplement the previous setting, which made it
such that the spinnning giraf head on the login screen should only spin if the
user has it enabled. Like greyscale, this should be implemented as a switch as
seen in \autoref{newSettingsPage}. The server should already support this
because of our specification of the settings page, which we made before
implementing REST in the \textc{Launcher}. As we first retrieve a users settings
after the login, we can use sharedPreferences in order to store the value
settings of the last user.

\section{Bugs and Missing Features}
During sprint 4 we discoved a few bugs and missing features, which are not
critical in size or effect, but smaller things which can improve the
\textc{Launcher} and \textc{Component-lib}.

\subsection{Launcher}
The bugs and missing features we found in the launcher are.

\subsubsection{Dialogs should be in grayscale}
When testing grayscale in the settings page of the \textc{Launcher}, is was
found that it did not effect dialog boxes. This should be fixed such that the
dialogs respect the grayscale setting. For the \textc{Launcher} it mostly means
that the boxes should have a way of knowing the setting.

\subsubsection{Implement grayscale in login screen}
Like the rest of the \textc{Launcher} the login screen should also be in
grayscale, but the problem here is that the user does not exist before they are
logged in, and when they are logged in, the app changes to the home screen. So
to implement this feature an idea could be to use a sharedPreference to store
the boolean for grayscale for the last logged in user. Doing this should allow
the login screen to be in grayscale as long as it is the same user that logs
in and does not change settings.

\subsubsection{Fix the changing of users though the settings page}
Right now in the settings page it is possible to change which user you set
settings for, but this have an impact on the rest of the \textc{Launcher} and
this bug should be fixed. The cause of this bug is that when we change user in
the settings panel, a new \textc{LoginRequest} is made with the new user and as
such get a token / cookie for this new user. Then back at the home page of the
\textc{Launcher} we use a empty user \textc{GetRequest} which retiveres the user
for the cookie we have. To fix this issue, the user changed to should log out
and the old user should login again.

\subsubsection{Make it possiable to switch back to the guardian used in the
settings page without logging out}
Currently in the settings panel it is possible to change to a user for which
the logged in guardian are a guardian of. But it is not possible to return in the
settings panel to the guardian after a change to a citizen. This should be
fixed, by possibly implementing a button that logs the citizen out and the
guardian in again.
  
\subsubsection{Fix such that settings are saved onto the server and are able to
be downloaded again}
This bug exist because REST client or server does not save the settings from the
\textc{ResourceRequest} and therefor the settings downloaded at start of an
activity does not have the right settings and no matter how many times the are
sent, the still do no persist. The bug can fixed and testet when the settings
part of REST works.

\subsubsection{Fix such that the apps a user can access are sent to the server}
This bug is alot like the other settings bug, but this time it is not because
REST does not save them. The bug is that when the \textc{ResourceRequest} is
given a settings object which contain a list of apps a user can access, it
returns a stackoverflow exception. The code which should create this request is
disabled and needs to be renabled when the REST client library is fixed.

\subsubsection{Create a better icon for missing apps}
The icon for missing apps on the device is right now more like a synconize icon
and not very GIRAF like, this icon should be changed with a icon that signals
more that the app should be downloaded from the play store.

\subsubsection{Find a better way to collect icons for apps}
The way the \textc{Launcher} right now loads the icons of the apps, is that for
every app which needs a icon the whole list of installed apps is iterated to
compare the name of the app with that of the app from the list. This means that
the loading of icons could take a long time, there must exist a better way to
get the icon of the apps. This could improve both the load times of the home
screen and the settings panel.

\subsubsection{Use xml onClick in more activities}
The login screen used the onClick on the xml file to many of its buttons, such
that they do not need to be defined as a listenre in code, this should also be
done for the other activities, this will make the code easier to read, because
the listerne is then replaced with only one method. This can only be done for
activities which has the buttons in xml, not when the button is added though
code.

\subsection{Component Library}
The only real bug we found that should be fixed in the \textc{Componet-lib} is
that the dialogs which are not grayscale in the \textc{Launcher} should support
grayscale given that the only information it gets from the apps which uses the
dialogs is the user's boolean for grayscale, this feature should exist in all
new dialogs and be made in the old dialogs which survives the redesign.

